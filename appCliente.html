<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>WsHome</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  
   <link rel="stylesheet" href="./css/inquilino.css">
   <link rel="stylesheet" href="./css/appCliente.css">
    <script src="./js/inquilino.js"></script>
	 <script src="./js/appCliente.js"></script>
	

	<!-- mapa css -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
  <link rel="stylesheet" href="css/map.css">
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
    <script src="./js/map.js"></script>

 
  <style>

  </style>
  <meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="WsHome">


<link rel="manifest" href="./manifest.json">
<link rel="icon" type="image/png" sizes="192x192" href="/icons/icon-192.png">
<link rel="apple-touch-icon" href="/icons/icon-192.png">
<meta name="theme-color" content="#0000ff">
</head>
<body>

  <!-- Barra superior -->
  <div class="flex items-center bg-blue-600 p-4 shadow-md">
    <button class="menu-btn text-white mr-4" onclick="toggleSidebar()"><i class="fa fa-bars"></i></button>
    <div id="appHeader" class="header-title">Bienvenido</div>
  </div>

  <!-- Sidebar -->
  <div id="sidebar">
    <a href="#" onclick="mostrarTab('inicio', true, 'Bienvenido')"><i class="fa fa-home"></i>Inicio</a>
    <a href="#" onclick="mostrarTab('gestionInquilino', true, 'Gestion Inquilino')"><i class="fa fa-bolt mr-2"></i>Gestion Inquilino</a>
    <a href="#" onclick="mostrarTab('Mapa', true, 'Mapa dispositivos')"><i class="fa fa-tint mr-2"></i>Mapa dispositivos</a>
   
  </div>

  <!-- Overlay -->
  <div id="overlay" onclick="toggleSidebar()"></div>

  <!-- Contenido -->
  <div class="p-6">

    <!-- Inicio -->
    <div id="inicio" class="tab active">
      <div class="inicio-btn" onclick="mostrarTab('gestionInquilino', false, 'Gestion Inquilino')">
        <i class="fa-solid fa-users text-blue-600 text-2xl"></i>
        <span>Gestion Inquilino</span>
      </div>
      <div class="inicio-btn" onclick="mostrarTab('Mapa', false, 'Mapa dispositivos')">
        <i class="fa fa-tint text-blue-600 text-2xl"></i>
        <span>Mapa dispositivos</span>
      </div>
     
    </div>
	
	 <!-- mapa -->
    <div id="Mapa" class="tab">
      <button class="btn btn-primary" id="buscarBtn">üîç Buscar Sensores</button>
  <div id="map"></div>

  <!-- JS -->
  
  <script src="js/map.js"></script>
     
    </div>

    <!-- Carga -->
    <div id="gestionInquilino" class="tab">
      
        <div class="card shadow p-4">
         
		  
		  <!-- Usuario -->
          <div class="mb-3">
            <input id="usuario" type="text" class="form-control" placeholder="Usuario" style="display:none;">
          </div>
          

          <!-- Selects -->
          <div class="row g-3 mb-3">
            <div class="col-12 col-md-4">
              <select id="barrio" class="form-select" onchange="buscarBarrio(this.value)">
                <option value="">Selecciona Barrio</option>
              </select>
            </div>
            <div class="col-12 col-md-4">
              <select id="idCasa" class="form-select" onchange="buscarPorCasa(this.value)">
                <option value="">Direccion</option>
              </select>
            </div>
            <div class="col-12 col-md-4">
              <select id="apartamento" class="form-select" onchange="buscarPorApartamento(this.value)">
                <option value="">Apartamento</option>
              </select>
            </div>
          </div>

          <!-- Formulario -->
          <form id="inquilinoForm" class="row g-3" onsubmit="return onSubmit(event)">
            <input type="hidden" id="idInquilino">

            <div class="col-12 col-md-6">
              <input id="nombres" type="text" class="form-control" placeholder="Nombre" disabled>
            </div>

            <div class="col-12 col-md-6">
              <input id="telefonoInquilino" type="text" class="form-control" placeholder="Telefono" disabled>
            </div>
			
			<div class="col-12 col-md-6">
              <label for="diaPago" class="form-label">D√≠a de Pago</label>
              <input id="diaPago" type="text" class="form-control" placeholder="dÈìÜa de pago" disabled value="15">
            </div>

            <div class="col-12 col-md-6">
              <label for="diasMora" class="form-label">D√≠a de Mora Permitido</label>
              <input id="diasMora" type="text" class="form-control" placeholder="D√≠a de mora" disabled value="15">
            </div>
			
			  <div class="col-12 col-md-6">
              <label for="fechaCorteArrendo" class="form-label">Fecha Corte Arriendo</label>
              <input id="fechaCorteArrendo" type="date" class="form-control" disabled>
            </div>
			
			<div class="col-12 col-md-6">
              <label for="fecPagoArriendo" class="form-label">Fecha Pago Arriendo</label>
              <input id="fecPagoArriendo" type="date" class="form-control" disabled>
            </div>

            <div class="col-12 col-md-6">
              <label for="fecNotificacion" class="form-label">Fecha Notificacion Energia</label>
              <input id="fecNotificacion" type="date" class="form-control" disabled>
            </div>

            <div class="col-12 col-md-6">
              <label for="fecCarga" class="form-label">Fecha Carga Energia </label>
              <input id="fecCarga" type="date" class="form-control" disabled>
            </div>

            <!-- Botones -->
            <div class="col-12 d-flex flex-column flex-md-row justify-content-center mt-3">
             
              <button type="submit" class="btn btn-primary">Guardar</button>
            </div>
          </form>
        </div>
    </div>

  </div>

<script>
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", () => {
      navigator.serviceWorker
        .register("./sw.js")
        .then(reg => console.log("Service Worker registrado:", reg.scope))
        .catch(err => console.log("Error al registrar el Service Worker:", err));
    });
  }
</script>

</body>
</html>
